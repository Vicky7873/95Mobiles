schema: '2.0'
stages:
  bike_data_ingestion:
    cmd: python -m src.bike.pipelines.bike_data_ingestion
    deps:
    - path: config/bike_config.yaml
      hash: md5
      md5: 3d4badd146b06389099bef5ad35c1d8d
      size: 1506
    - path: src/bike/pipelines/bike_data_ingestion.py
      hash: md5
      md5: eb46f0f3f15b868e90775310497c39ff
      size: 845
    outs:
    - path: data/bike/data_ingestion/used_bikes.csv
      hash: md5
      md5: ff0efd3f6f3a6147df55a53d987e12db
      size: 2493547
  bike_data_feature_engeenering:
    cmd: python -m src.bike.pipelines.bike_feature_eng
    deps:
    - path: config/bike_config.yaml
      hash: md5
      md5: 3d4badd146b06389099bef5ad35c1d8d
      size: 1506
    - path: src/bike/pipelines/bike_feature_eng.py
      hash: md5
      md5: 8aafb6b25abb574658bcd6c79727a0f5
      size: 921
    outs:
    - path: data/bike/feature_engeenering/clean_bike.csv
      hash: md5
      md5: 34af602866e65b58202d371daefe2dc4
      size: 2216976
  bike_data_split:
    cmd: python -m src.bike.pipelines.bike_data_splitpipe
    deps:
    - path: config/bike_config.yaml
      hash: md5
      md5: 3d4badd146b06389099bef5ad35c1d8d
      size: 1506
    - path: src/bike/pipelines/bike_data_splitpipe.py
      hash: md5
      md5: f40525b801154e24217ffb831015e0b9
      size: 741
    params:
      params/bike_params.yaml:
        split.random_state: 21
        split.test_size: 0.2
    outs:
    - path: data/bike/data_split/X_test.csv
      hash: md5
      md5: 404bd8d37ab85192024afb476445ce2a
      size: 350153
    - path: data/bike/data_split/X_train.csv
      hash: md5
      md5: ac31a597f7bde11b286fb6c555217ec8
      size: 1400440
    - path: data/bike/data_split/y_test.csv
      hash: md5
      md5: cb439767be7ea9903e97bfc4b9fac02c
      size: 53373
    - path: data/bike/data_split/y_train.csv
      hash: md5
      md5: 14a9b1089c5c38c030f2ce85132161c7
      size: 213229
  bike_hyper_tune:
    cmd: python -m src.bike.pipelines.bike_tunning_pipeline
    deps:
    - path: config/bike_config.yaml
      hash: md5
      md5: 3d4badd146b06389099bef5ad35c1d8d
      size: 1506
    - path: src/bike/pipelines/bike_tunning_pipeline.py
      hash: md5
      md5: d66a81580830e0ab0c52df0bc47ea00f
      size: 691
    outs:
    - path: data/bike/bike_tune/tunned_model.pkl
      hash: md5
      md5: 6204824ab8867b3210d541389661019e
      size: 1336614
  bike_model_eval:
    cmd: python -m src.bike.pipelines.bike_tunning_pipeline
    deps:
    - path: config/bike_config.yaml
      hash: md5
      md5: 3d4badd146b06389099bef5ad35c1d8d
      size: 1506
    - path: src/bike/pipelines/bike_tunning_pipeline.py
      hash: md5
      md5: d66a81580830e0ab0c52df0bc47ea00f
      size: 691
    outs:
    - path: data/bike/model_eval/score.json
      hash: md5
      md5: ce2d429d442bfb3f0ba8c4725bd8ec77
      size: 77
  car_data_ingestion:
    cmd: python -m src.car.pipelines.st_01_car_data_ingestion
    deps:
    - path: config/car_config.yaml
      hash: md5
      md5: 8f4a38e1545df1686232276d0e6f0c0b
      size: 1257
    - path: src/car/pipelines/st_01_car_data_ingestion.py
      hash: md5
      md5: 720ebd4f6bfefa37cbe9016b432ccec1
      size: 701
    outs:
    - path: data/car/data_ingestion/car.csv
      hash: md5
      md5: 92770bca1b81e9339def909673097b97
      size: 354635
  car_feature_eng:
    cmd: python -m src.car.pipelines.st_02_carFe_pipeline
    deps:
    - path: config/car_config.yaml
      hash: md5
      md5: 8f4a38e1545df1686232276d0e6f0c0b
      size: 1257
    - path: src/car/pipelines/st_02_carFe_pipeline.py
      hash: md5
      md5: 001d1bba8cb1abb3d487a0e6f7a845c5
      size: 642
    outs:
    - path: data/car/car_fe/car_clean.csv
      hash: md5
      md5: b191fd4a7e10dd325ed8ea74a50de401
      size: 274135
  car_data_split:
    cmd: python -m src.car.pipelines.st_03_car_data_splitpipeline
    deps:
    - path: config/car_config.yaml
      hash: md5
      md5: 8f4a38e1545df1686232276d0e6f0c0b
      size: 1257
    - path: src/car/pipelines/st_03_car_data_splitpipeline.py
      hash: md5
      md5: 05f37715a6adcec8e0b4432aaf41f359
      size: 725
    params:
      params/car_params.yaml:
        split.random_state: 21
        split.test_size: 0.21
    outs:
    - path: data/car/data_split/X_test.csv
      hash: md5
      md5: bd53a26b8ff73c9b3119012c472255fc
      size: 46389
    - path: data/car/data_split/X_train.csv
      hash: md5
      md5: a013b43074231a1a5600e04ef8318f91
      size: 173980
    - path: data/car/data_split/y_test.csv
      hash: md5
      md5: 7f354c6bbd06f39744b91b7b3929fb18
      size: 6412
    - path: data/car/data_split/y_train.csv
      hash: md5
      md5: c592dbf8ff85a721468296e72249079d
      size: 24050
  car_model_training:
    cmd:
    - python -m src.car.pipelines.st_04_car_Model_training
    - cp data/car/Model_training/best_model.pkl models/car_best_model.pkl
    deps:
    - path: config/car_config.yaml
      hash: md5
      md5: 8f4a38e1545df1686232276d0e6f0c0b
      size: 1257
    - path: src/car/pipelines/st_04_car_Model_training.py
      hash: md5
      md5: 6c85319d23613ee34dcbb81c6f42fee5
      size: 746
    params:
      params/car_params.yaml:
        grid.bootstrap:
        - true
        - false
        grid.criterion:
        - squared_error
        - absolute_error
        - friedman_mse
        - poisson
        grid.fit_intercept:
        - false
        - true
        grid.n_estimators:
        - 11
        - 17
        - 9
        grid.oob_score:
        - true
        - false
        grid.splitter:
        - best
        - random
    outs:
    - path: data/car/Model_training/best_model.pkl
      hash: md5
      md5: 4bd4c0e5bf62685ebe2c2e734f612964
      size: 4132849
  car_model_eval:
    cmd: python -m src.car.pipelines.st_05_model_eval_pipeline
    deps:
    - path: config/car_config.yaml
      hash: md5
      md5: 8f4a38e1545df1686232276d0e6f0c0b
      size: 1257
    - path: src/car/pipelines/st_05_model_eval_pipeline.py
      hash: md5
      md5: 6f1d54caae82100f60f5c5f2b5341018
      size: 677
    outs:
    - path: data/car/model_eval/car_score.json
      hash: md5
      md5: b038c599b57e64f4ca6b1f037ce929ed
      size: 83
